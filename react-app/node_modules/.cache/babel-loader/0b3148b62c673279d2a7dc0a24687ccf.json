{"ast":null,"code":"var _jsxFileName = \"/Users/katherinegraf/code/todo/react-app/src/TaskManager.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport ExistingTasks from './ExistingTasks';\nimport TaskCreate from './TaskCreate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TaskManager = () => {\n  _s();\n\n  const [existingTasks, setExistingTasks] = useState(null);\n  const [loading, setLoading] = useState(null);\n  const [error, setError] = useState(false); // TODO change from static id to variable once there's login functionality\n\n  const testUserId = 1;\n  const fetchUrl = \"http://localhost:2000/allTasksForUser/\" + testUserId; // NOTE Other methods are triggered by events; fetchData isn't and so requires useEffect to initialize the call.\n  // This is for loading the page with data before the user interacts with it.\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  async function fetchData() {\n    setLoading(true); // TODO once you can toggle between task types, use state to choose url\n\n    let req = await fetch(fetchUrl);\n\n    if (req.status < 400) {\n      let jsonData = await req.json(); // WIP/NOTES: below is idea from A on toggling task categories \n      // iterate through map of tasks and add to new lists based on status\n      // let allTasks = jsonData;\n      // let completedTasks = jsonData.map((task) => \n      //     if (task.status == 'complete')\n      //         return task\n      // )\n\n      setExistingTasks(jsonData);\n    } else {\n      setError(true);\n    }\n\n    setLoading(false);\n  }\n\n  const deleteUrl = \"//localhost:2000/deleteTask/\";\n\n  async function deleteTask(id) {\n    setLoading(true);\n    let url = deleteUrl + id;\n    let req = await fetch(url, {\n      method: 'DELETE'\n    });\n\n    if (req.status < 400) {\n      fetchData();\n    } else {\n      setError(true);\n    }\n\n    setLoading(false);\n  }\n\n  const completeUrl = \"//localhost:2000/completeTask/\";\n\n  async function completeTask(id) {\n    setLoading(true);\n    let url = completeUrl + id;\n    let req = await fetch(url, {\n      method: 'PATCH'\n    });\n\n    if (req.status < 400) {\n      fetchData();\n    } else {\n      setError(true);\n    }\n\n    setLoading(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todoapp w-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: \"ToDo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TaskCreate, {\n      fetchData: fetchData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ExistingTasks, {\n      existingTasks: existingTasks,\n      deleteTask: deleteTask,\n      completeTask: completeTask\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TaskManager, \"pWi+ErbA2anFebXdVsbk9JvN2so=\");\n\n_c = TaskManager;\nexport default TaskManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskManager\");","map":{"version":3,"sources":["/Users/katherinegraf/code/todo/react-app/src/TaskManager.js"],"names":["React","useEffect","useState","ExistingTasks","TaskCreate","TaskManager","existingTasks","setExistingTasks","loading","setLoading","error","setError","testUserId","fetchUrl","fetchData","req","fetch","status","jsonData","json","deleteUrl","deleteTask","id","url","method","completeUrl","completeTask"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;;AAEA,MAAMC,WAAW,GAAG,MAAM;AAAA;;AAEtB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCL,QAAQ,CAAC,IAAD,CAAlD;AACA,QAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,KAAD,CAAlC,CAJsB,CAMtB;;AACA,QAAMU,UAAU,GAAG,CAAnB;AACA,QAAMC,QAAQ,GAAG,2CAA2CD,UAA5D,CARsB,CAUtB;AACA;;AACAX,EAAAA,SAAS,CAAE,MAAM;AACba,IAAAA,SAAS;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,iBAAeA,SAAf,GAA2B;AACvBL,IAAAA,UAAU,CAAC,IAAD,CAAV,CADuB,CAEvB;;AACA,QAAIM,GAAG,GAAG,MAAMC,KAAK,CAACH,QAAD,CAArB;;AACA,QAAIE,GAAG,CAACE,MAAJ,GAAa,GAAjB,EAAsB;AAClB,UAAIC,QAAQ,GAAG,MAAMH,GAAG,CAACI,IAAJ,EAArB,CADkB,CAElB;AACI;AACA;AACA;AACA;AACA;AACA;;AACJZ,MAAAA,gBAAgB,CAACW,QAAD,CAAhB;AACH,KAVD,MAUO;AACHP,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;;AACDF,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH;;AAED,QAAMW,SAAS,GAAG,8BAAlB;;AAEA,iBAAeC,UAAf,CAA0BC,EAA1B,EAA8B;AAC1Bb,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAIc,GAAG,GAAGH,SAAS,GAAGE,EAAtB;AACA,QAAIP,GAAG,GAAG,MAAMC,KAAK,CAACO,GAAD,EAAM;AACvBC,MAAAA,MAAM,EAAE;AADe,KAAN,CAArB;;AAGA,QAAIT,GAAG,CAACE,MAAJ,GAAa,GAAjB,EAAsB;AAClBH,MAAAA,SAAS;AACZ,KAFD,MAEO;AACHH,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;;AACDF,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH;;AAED,QAAMgB,WAAW,GAAG,gCAApB;;AAEA,iBAAeC,YAAf,CAA4BJ,EAA5B,EAAgC;AAC5Bb,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,QAAIc,GAAG,GAAGE,WAAW,GAAGH,EAAxB;AACA,QAAIP,GAAG,GAAG,MAAMC,KAAK,CAACO,GAAD,EAAM;AACvBC,MAAAA,MAAM,EAAE;AADe,KAAN,CAArB;;AAGA,QAAIT,GAAG,CAACE,MAAJ,GAAa,GAAjB,EAAsB;AAClBH,MAAAA,SAAS;AACZ,KAFD,MAEO;AACHH,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACH;;AACDF,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA,4BACI;AAAQ,MAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,UAAD;AACI,MAAA,SAAS,EAAKK;AADlB;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI,QAAC,aAAD;AACI,MAAA,aAAa,EAAKR,aADtB;AAEI,MAAA,UAAU,EAAKe,UAFnB;AAGI,MAAA,YAAY,EAAKK;AAHrB;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH,CAnFD;;GAAMrB,W;;KAAAA,W;AAqFN,eAAeA,WAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ExistingTasks from './ExistingTasks';\nimport TaskCreate from './TaskCreate';\n\nconst TaskManager = () => {\n\n    const [existingTasks, setExistingTasks] = useState(null);\n    const [loading, setLoading] = useState(null);\n    const [error, setError] = useState(false);\n\n    // TODO change from static id to variable once there's login functionality\n    const testUserId = 1\n    const fetchUrl = \"http://localhost:2000/allTasksForUser/\" + testUserId;\n\n    // NOTE Other methods are triggered by events; fetchData isn't and so requires useEffect to initialize the call.\n    // This is for loading the page with data before the user interacts with it.\n    useEffect( () => {\n        fetchData();\n    }, [])\n\n    async function fetchData() {\n        setLoading(true);\n        // TODO once you can toggle between task types, use state to choose url\n        let req = await fetch(fetchUrl);\n        if (req.status < 400) {\n            let jsonData = await req.json();\n            // WIP/NOTES: below is idea from A on toggling task categories \n                // iterate through map of tasks and add to new lists based on status\n                // let allTasks = jsonData;\n                // let completedTasks = jsonData.map((task) => \n                //     if (task.status == 'complete')\n                //         return task\n                // )\n            setExistingTasks(jsonData);\n        } else {\n            setError(true);\n        }\n        setLoading(false);\n    }\n\n    const deleteUrl = \"//localhost:2000/deleteTask/\"\n\n    async function deleteTask(id) {\n        setLoading(true);\n        let url = deleteUrl + id\n        let req = await fetch(url, {\n            method: 'DELETE',\n        });\n        if (req.status < 400) {\n            fetchData();\n        } else {\n            setError(true);\n        }\n        setLoading(false);\n    }\n\n    const completeUrl = \"//localhost:2000/completeTask/\"\n\n    async function completeTask(id) {\n        setLoading(true);\n        let url = completeUrl + id\n        let req = await fetch(url, {\n            method: 'PATCH',\n        });\n        if (req.status < 400) {\n            fetchData();\n        } else {\n            setError(true);\n        }\n        setLoading(false);\n    }\n\n    return (\n        <div className='todoapp w-100' >\n            <header className='header'>\n                ToDo\n            </header>\n            <TaskCreate \n                fetchData = { fetchData }\n            />\n            <ExistingTasks\n                existingTasks = { existingTasks }\n                deleteTask = { deleteTask }\n                completeTask = { completeTask }\n            />\n        </div> \n    )\n}\n\nexport default TaskManager;\n"]},"metadata":{},"sourceType":"module"}